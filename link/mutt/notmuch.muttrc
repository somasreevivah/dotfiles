# 'L' performs a notmuch query, showing only the results
macro index y \
"\
<enter-command>\
unset wait_key<enter>\
<shell-escape>read -p 'notmuch query: ' x; echo \$x >~/.cache/mutt_terms<enter>\
<limit>~i \"\`notmuch search --output=messages \$(cat ~/.cache/mutt_terms) | \
head -n 600 | \
perl -le '@a=<>;chomp@a;s/\^id:// for@a;$,=\"|\";print@a'\`\"<enter>\
" "show only messages matching a notmuch pattern"

#macro index y "\
#<enter-command><shell-escape>ls\
#"

# vim: ft=muttrc cc=80 :
